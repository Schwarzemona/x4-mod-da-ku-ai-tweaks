<?xml version='1.0' encoding='utf-8'?>
<diff>
  <replace sel="/aiscript/interrupts/library/handler[@name='UseCaseAttackHandler']/actions/do_if[@value='this.isclass.npc and this.page']/do_else/do_if[@value='$usecase_attackerIsEnemy and $usecase_attackerIsPerson and not $usecase_willRetaliate and not this.isplayerowned and this.ship.hullpercentage lt (25 - this.skill.morale) and this.ship.shieldpercentage lt 25']/@value">$usecase_attackerIsEnemy and $usecase_attackerIsPerson and not $usecase_willRetaliate and not this.isplayerowned and this.assignedcontrolled.hullpercentage lt (25 - [15, 12].random) and this.assignedcontrolled.shieldpercentage lt 25</replace>
  <replace sel="/aiscript/interrupts/library/handler[@name='UseCaseAttackHandler']/actions/do_if[@value='this.isclass.npc and this.page']/do_else/do_elseif[@value='$usecase_attackerIsEnemy and $usecase_attackerIsSmall                        and ((this.ship.hullpercentage * 2 + this.ship.shieldpercentage) ge (280 - this.skill.morale)                        or (this.ship.hullpercentage * 2 + this.ship.shieldpercentage) - (event.param.hullpercentage * 2 + event.param.shieldpercentage) gt (200 - this.skill.morale))']/@value">$usecase_attackerIsEnemy and $usecase_attackerIsSmall                        and ((this.assignedcontrolled.hullpercentage * 2 + this.assignedcontrolled.shieldpercentage) ge (280 - [15, 12].random)                        or (this.assignedcontrolled.hullpercentage * 2 + this.assignedcontrolled.shieldpercentage) - (event.param.hullpercentage * 2 + event.param.shieldpercentage) gt (200 - [15, 12].random))</replace>
  <replace sel="/aiscript/interrupts/library/handler[@name='UseCaseAttackHandler']/actions/do_if[@value='this.isclass.npc and this.page']/do_else/do_elseif[@value='this.ship.hullpercentage lt (40 - this.skill.morale) and this.ship.shieldpercentage lt 25']/@value">this.assignedcontrolled.hullpercentage lt (40 - [15, 12].random) and this.assignedcontrolled.shieldpercentage lt 25</replace>
</diff>
