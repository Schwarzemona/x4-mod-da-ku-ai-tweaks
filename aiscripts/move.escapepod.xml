<?xml version='1.0' encoding='utf-8'?>
<diff>
  <add sel="/aiscript/attention[@min='visible']/actions/do_if[@value='$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and $station.zone.policefaction and (this.ship.relationto.{$station} ge 0) and (this.ship.relationto.{$station.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner)']" pos="before">
    <do_if value="$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and $station.zone.policefaction and (this.ship.relationto.{$station} ge 0) and (this.ship.relationto.{$station.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner)" chance="(not @global.$DATIllegalActivityAI) * 100">
      <debug_text text="'reporting attack'" chance="$debugchance"/>
      <signal_objects object="player.galaxy" param="'report_attack'" param2="[$origin, killmethod.hitbybullet, $origin, $attacker, this.assignedcontrolled, $station]"/>
    </do_if>
  </add>
  <replace sel="/aiscript/attention[@min='visible']/actions/do_if[@value='$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and $station.zone.policefaction and (this.ship.relationto.{$station} ge 0) and (this.ship.relationto.{$station.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner)'][2]/@value">$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and $station.zone.policefaction and (this.ship.relationto.{$station} ge 0) and (this.ship.relationto.{$station.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner) and ($station.owner.relationto.{this.ship.trueowner} gt $station.owner.relationto.{$attacker.trueowner})</replace>
  <add sel="/aiscript/attention[@min='visible']/actions/do_if[@value='$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and $station.zone.policefaction and (this.ship.relationto.{$station} ge 0) and (this.ship.relationto.{$station.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner) and ($station.owner.relationto.{this.ship.trueowner} gt $station.owner.relationto.{$attacker.trueowner})']" type="@chance">@global.$DATIllegalActivityAI * 100</add>
  <add sel="/aiscript/attention[@min='unknown']/actions/do_if[@value='$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and this.zone.policefaction and (this.ship.relationto.{this.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner)']" pos="before">
    <do_if value="$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and this.zone.policefaction and (this.ship.relationto.{this.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner)" chance="(not @global.$DATIllegalActivityAI) * 100">
      <debug_text text="'reporting attack'" chance="$debugchance"/>
      <signal_objects object="player.galaxy" param="'report_attack'" param2="[$origin, killmethod.hitbybullet, $origin, $attacker, this.assignedcontrolled, $station]"/>
    </do_if>
  </add>
  <replace sel="/aiscript/attention[@min='unknown']/actions/do_if[@value='$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and this.zone.policefaction and (this.ship.relationto.{this.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner)'][2]/@value">$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and this.zone.policefaction and (this.ship.relationto.{this.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner) and ($station.owner.relationto.{this.ship.trueowner} gt $station.owner.relationto.{$attacker.trueowner})</replace>
  <add sel="/aiscript/attention[@min='unknown']/actions/do_if[@value='$reportattack and @$attacker.isoperational and @$origin.exists and not this.isplayerowned and this.zone.policefaction and (this.ship.relationto.{this.zone.policefaction} ge 0) and ($station.owner != @$attacker.owner) and ($station.owner.relationto.{this.ship.trueowner} gt $station.owner.relationto.{$attacker.trueowner})']" type="@chance">@global.$DATIllegalActivityAI * 100</add>
</diff>
