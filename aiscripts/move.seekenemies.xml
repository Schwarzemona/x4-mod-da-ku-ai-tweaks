<?xml version='1.0' encoding='utf-8'?>
<diff>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[2]/check_value[@value='event.param2.zone.policefaction == this.trueowner']/@value">(event.param2.zone.policefaction == this.trueowner) or (event.param2.sector.policefaction == this.trueowner) or (event.param2.sector.owner == this.trueowner)</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[2]/check_value[@value='not this.hasrelation.enemy.{event.param2.zone.policefaction}']/@value">not (this.hasrelation.enemy.{event.param2.zone.policefaction} or this.hasrelation.enemy.{event.param2.sector.policefaction})</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[2]/check_value[@value='this.assignedcontrolled.cansee.{event.param2}']/@value">event.param2.sector == this.sector and event.param2.sector.exists</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[2]/check_value[@value='event.param2.owner != this.owner']/@value">event.param2.trueowner != this.trueowner</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[2]/check_any/check_all/check_value[1]/@value">(this.assignedcontrolled.order.id == 'Patrol') or (this.assignedcontrolled.order.id == 'Police') or (this.assignedcontrolled.commander and (this.assignedcontrolled.commander.defaultorder.id == 'Patrol' or this.assignedcontrolled.commander.defaultorder.id == 'Police') and this.assignedcontrolled.defaultorder.id == 'Assist')</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[2]/check_any/check_all/check_value[@value='this.hasrelation.enemy.{event.param2}']/@value">this.hasrelation.enemy.{event.param2} or event.param3.trueowner == this.trueowner</replace>
  <add sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[2]">
    <check_value value="(this.relationto.{event.param2} gt this.relationto.{event.param3}) and (this.trueowner.relationto.{event.param2.trueowner} gt this.trueowner.relationto.{event.param3.trueowner})"/>
  </add>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[@chance='80']/@chance">100</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[@chance='100']/check_value[@value='not this.hasrelation.enemy.{event.param2}']/@value">not (this.hasrelation.enemy.{event.param2} or this.trueowner.hasrelation.enemy.{event.param2.trueowner})</replace>
  <add sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[@chance='100']/check_any[2]">
    <check_all>
      <check_value value="$ourtrueowner != faction.loanshark"/>
      <check_value value="event.param2.trueowner == this.trueowner"/>
    </check_all>
  </add>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[@chance='100']/check_value[@value='event.param3.owner != this.owner']/@value">event.param3.trueowner != this.trueowner</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[@chance='100']/check_value[@value='event.param2.owner != event.param3.owner']/@value">event.param2.trueowner != event.param3.trueowner</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[@chance='100']/check_any[3]/check_all/check_value[1]/@value">(this.assignedcontrolled.order.id == 'Patrol') or (this.assignedcontrolled.order.id == 'Police') or (this.assignedcontrolled.commander and (this.assignedcontrolled.commander.defaultorder.id == 'Patrol' or this.assignedcontrolled.commander.defaultorder.id == 'Police') and this.assignedcontrolled.defaultorder.id == 'Assist')</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[@chance='100']/check_any[3]/check_all/check_value[@value='this.hasrelation.enemy.{event.param3}']/@value">this.hasrelation.enemy.{event.param3} or event.param2.trueowner == this.trueowner</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/conditions/check_any/check_all[@chance='100']/check_value[@value='this.relationto.{event.param2} gt this.relationto.{event.param3}']/@value">(this.relationto.{event.param2} gt this.relationto.{event.param3}) and (this.trueowner.relationto.{event.param2.trueowner} gt this.trueowner.relationto.{event.param3.trueowner})</replace>
  <replace sel="/aiscript/attention[@min='unknown']/actions/move_to/interrupt/actions/do_elseif[@value='event.name'][1]/do_if[@value='not this.assignedcontrolled.cansee.{$enemy}']/@chance">100</replace>
</diff>
