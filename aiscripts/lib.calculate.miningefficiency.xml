<?xml version='1.0' encoding='utf-8'?>
<diff>
  <replace sel="/aiscript/interrupts/library/actions[@name='CalculateMiningEfficiency']/do_if[@value='@$evalware and (typeof $evalware == datatype.ware) and @$basescantime and this.sector']/set_value[@name='$_skillexponent'][@exact='4']/@exact">2</replace>
  <remove sel="/aiscript/interrupts/library/actions[@name='CalculateMiningEfficiency']/do_if[@value='@$evalware and (typeof $evalware == datatype.ware) and @$basescantime and this.sector']/do_if[@value='($_wareefficiency lt 1) and ($_skillproportion gt 0)']/find_object[@name='$_resourceprobe']/match_distance[@max='40km']"/>
  <replace sel="/aiscript/interrupts/library/actions[@name='CalculateMiningEfficiency']/do_if[@value='@$evalware and (typeof $evalware == datatype.ware) and @$basescantime and this.sector']/do_if[@value='($_wareefficiency lt 1) and ($_skillproportion gt 0)']/set_value[@name='$_result_efficiency'][@exact='(1.0f - $_wareefficiency) * (([this.assignedcontrolled.combinedskill, 1].max / 100.0f) ^ $_skillexponent)']/@exact">(1.0f - $_wareefficiency) * (([if this.assignedcontrolled.trueowner == faction.player then this.assignedcontrolled.combinedskill else 100, 50].max / 100.0f) ^ $_skillexponent)</replace>
</diff>
